---
title: 基本概念
createTime: 2025/11/13 22:09:25
permalink: /cppstudy/h45ai0rx/
tags:
  - C/C++
---

## C++ 环境环境搭建(**重要**)

下面我们将搭建一个 C++ 环境，从而可以进行代码编写、调试、构建和运行 C++ 程序。根据你使用的不同的操作系统，需要选择不同的 C++ 开发工具

如果你使用的是 Windows，我推荐使用 [Visual Studio IDE](https://visualstudio.microsoft.com/zh-hans/)。当然 [Qt Creator IDE](https://www.qt.io/development/tools/qt-creator-ide) 也可以在 Windows 上工作。我们会介绍这两种 IDE 的安装方式

### Visual Studio IDE

访问 [Visual Studio IDE](https://visualstudio.microsoft.com/zh-hans/) 官网，然后点击免费下载。此时，就会开始下载 Visual Studio IDE 安装程序

![1765719069425-e6b2f9031b1d5847b1315b49dc37d2cf.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765719069425-e6b2f9031b1d5847b1315b49dc37d2cf.png)

等待下载完成后，双击打开 Visual Studio IDE 安装程序，稍后你将看到如下界面

![1765719193562-6160fe51b69150460698b8f0b2480a12.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765719193562-6160fe51b69150460698b8f0b2480a12.png)

勾选 `桌面应用和移动应用 => 使用 C++ 的桌面开发` 后点击安装即可。由于我已经安装完成了，并且没有任何修改，所以这里显示的是关闭而不是安装

![1765719571699-5594f5b267e9931da958a811f76ccc16.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765719571699-5594f5b267e9931da958a811f76ccc16.png)

### Qt Creator IDE(可选的)

Qt Creator IDE 安装就不能像 Visual Studio IDE 那样直接访问官网进行安装。我们需要访问[qtproject USTC](https://mirrors.ustc.edu.cn/help/qtproject.html) 国内镜像下载 Qt 安装程序。根据安装程序的指引完成安装即可

## 第一个 C++ 程序

下面展示第一个完全可以工作的完整 C++ 程序。首先，按照 `打开 Visual Studio IDE => 创建新项目 => 控制台应用 => 下一步` 创建项目，然后回进入一个配置对话框，填写对话框后点击创建

![1765722127284-b9d31fa456842bd33f897daf33af63e3.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765722127284-b9d31fa456842bd33f897daf33af63e3.png)

这样就完成了 C++ 项目的创建，此时 IDE 给我们生成了一个基础的代码文件

![1765722686736-ff4c00f08c49326e63dbd5fabc4b622e.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765722686736-ff4c00f08c49326e63dbd5fabc4b622e.png)

我们删除上述所有代码，然后编写如下代码

```cpp title="firstcpp.cpp"
// firstcpp.cpp
// A complete C++ program

import <iostream>;

int main()
{
    int answer {42};

    std::cout << "The answer to life, the universe, and everything is "
            << answer
            << std::endl;

    return 0;
}
```

如何才能运行上述示例程序呢？在 Visual Studio IDE 中，只需要点击工具栏中的绿色三角形即可

![1765722952630-3b35fa5db5083a9ec981581a4a0effb0.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765722952630-3b35fa5db5083a9ec981581a4a0effb0.png)

点击上面的工具栏上的绿色三角形编译并运行程序。然而，Visual Studio IDE 提示如下错误信息

![1765723132401-62ff2316790e3469e82da8c72534daf8.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765723132401-62ff2316790e3469e82da8c72534daf8.png)

这是因为 Visual Studio IDE 默认情况下并未开启对 C++ 模块的支持，而是使用旧式的 `#include` 头文件指令。因此，我们需要修改 Visual Studio IDE 的默认配置。

![1765723339520-368754dd460b798e9694bda6658c0adc.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765723339520-368754dd460b798e9694bda6658c0adc.png)

选择 `菜单栏 => 项目 => firstcpp 和属性` 后，会弹出另一个对话框。在常规属性中，将 C++ 标准设置为 C++20。然后在 `C/C++/常规` 中启用 C++ 模块，如下图所示

![1765723597559-03f2dc017b12c8ae799edf6152a58559.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765723597559-03f2dc017b12c8ae799edf6152a58559.png)

经过上述配置的修改，此时再次点击运行，应该就能成功编译并执行我们的第一个 C++ 程序了。下图展示了运行结果

![1765723708593-552ac019869053d8061a5902e04e1c5d.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765723708593-552ac019869053d8061a5902e04e1c5d.png)

### 理解第一个 C++ 程序

第一个 C++ 程序虽然简单，但是五脏俱全。它涉及了 C++ 核心知识点。如下图所示，解释了上述例程的各部分

![1760698880233-d1c183dca2b64702fa726c981fd794af.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1760698880233-d1c183dca2b64702fa726c981fd794af.png)

#### 源文件

我们的示例代码是保存在一个名为 `firstcpp.cpp` 的文件中。文件扩展名 `.cpp` 表示这是一个 **C++ 源文件**。源文件包含函数体和程序中大部分可执行的代码。C++ 的源文件通常带有文件扩展名 `.cpp`。此外，还有其他的扩展名；例如 `.cc` `.cxx` 等

最开始我们学习 C++ 时，程序都会比较小，在一个 C++ 源文件中定义就足够了。但是，实际开发中，程序往往由成千上万个文件组成，这些文件并非都是源文件。在大型程序中，会使用其他类型的文件，目的是将程序各个组成部分的接口（函数原型、类定义、模块接口等）从源文件中的实现中分离出来

::: tip

源文件即是存储 C++ 实现代码的文件，通常以 `.cpp` 和 `.cc` 作为文件扩展名

:::

#### 注释和空白

示例代码的前两行是 **注释**。添加注释用于解释程序代码，可以提高可读性，使他人可以更快的理解程序的工作方式。C++ 中，注释使用 `//` 开头，直到该行结束。编译器会忽略一行代码中 `//` 后面的内容

::: warning

注意：不要在每个文件开头的注释中指出文件名。示例代码只是为了演示

:::

C++ 还支持另外一种形式的注释，它可以让注释跨行存放

```cpp
/* This comment is
over two line
*/
```

编译器会忽略 `/*` 和 `*/` 之间的所有内容。这种注释通常用于文档说明

```cpp
/******************\
* This comment is *
* over two line.  *
\******************/
```

**空白** 是空格、制表符、换行符或者换页符等任意序列。编译器会忽略空白，除非由于语法原因需要使用空白把元素区分开来

#### 标准库模块

示例代码的第四行 `import  <iostream>;` 是一个导入声明，它将 C++ 标准库中的 `<iostream>` 导入到源文件 `firstcpp.cpp` 中。

```cpp{4} title="firstcpp.cpp"
// firstcpp.cpp
// A complete C++ program

#include  <iostream>

int main()
{
    int answer {42};

    std::cout << "The answer to life, the universe, and everything is "
            << answer
            << std::endl;

    return 0;
}
```

这样，由该模块导出的所有类型和函数都可以在该文件中使用了。在编译之前，几乎在每个文件中都要导入一个或多个标准库模块

::: tip

请注意：`<iostream>` 也可以作为头文件，即使用 `#include <iostream>` 预处理指令将头文件包含到当前文件中

实际上，在成为 C++20 的模块之前，它本就是一个头文件。C++20 之前标准库的所有头文件几乎都可以导入 C++20 中，作为模块使用。但是，源于 C 标准库的头文件则不行

:::

#### 函数

每个 C++ 程序都至少包含一个函数，通常会包含多个函数。**函数是一个命名的代码块**，执行定义好的操作，例如，读取输入数据、计算平均值或者输出结果。在程序中，**使用函数的名称来执行或调用函数**，程序中的所有可执行代码都放在函数中

::: warning

C++ 程序中必须有一个名为 `main` 的函数，它是 C++ 程序的执行入口，程序执行总是会从这个函数开始

:::

函数提供了几个重要的特性

+ 程序被分解为不同的函数，更容易开发和测试
+ 一个函数可以在程序的几个不同地方**重用**，从而降低程序的大小
+ 函数还可以在不同的程序中重用，节省开发时间
+ 大程序通常由不同的程序员共同开发。将程序分解为不同的函数可以提高协作效率，每个程序员可以负责不同的函数

我们的示例代码 `firstcpp.cpp` 中只包含 `main()` 函数。如下所示，

```cpp{6-15} title="firstcpp.cpp"
// firstcpp.cpp
// A complete C++ program

#include  <iostream>

int main()  // [!code focus]
{
    int answer {42};

    std::cout << "The answer to life, the universe, and everything is "
            << answer
            << std::endl;

    return 0;
}
```

该函数的第一行是 `int main()`，称为 **函数头**，标识了函数。其中 `int` 是一个类型名称，它定义了 `main()` 函数执行完毕时 **返回值的类型** 为整型

::: tip

整型既是存储整数的类型，它是没有小数部分的数字。例如 $23$ 和 $-2048$ 都是整数，但是 $3.1415$ 和 $\frac{1}{4}$ 不是整数

:::

一般情况下，函数定义中名称后面的圆括号，包含了调用函数时需要传递给函数的信息和说明，通常称为函数的 **参数**。函数的可执行代码总是放在花括号（`{}`）中（称为 **函数体**），左花括号跟在函数头的后面

#### 语句

**语句** 是 C++ 程序的基本单元，它总是以分号（`;`）结束。分号表示语句的结束。语句可以定义某个元素，例如计算或者要执行的操作。**程序执行的所有操作都是由语句指定的**。语句按顺序执行，除非某个语句改变了这个执行顺序。例如，`if` 语句。

我们的示例代码中的 `main()` 有 3 个语句。第一条语句定义了一个 **变量**，**变量是一个命名的内存块**，用于存储某种类型的数据。在示例代码中，变量的名称是 `answer`，可以存储整数值

```cpp
int answer {42};  // 定义变量 answer 存储整数 42
```

类型 `int` 放在名称的前面，指定了变量可以存储的数据类型——整数。注意 **`int` 和 `answer` 之间有一个或多个必须得空白字符**，用于分隔类型和变量名。如果 `int` 和 `answer` 之间没有空白字符，编译器会把名字看做 `intanswer`，这是编译器无法理解的。`answer` 的初始值放在变量名后的花括号中，所以它最初存储的值是 $42$。`answer` 和 `{42}` 之间的空格不是必须的。例如，如下几个变量的定义都是有效的

```cpp {1}
int one { 1 };

int two{2};

int three{
    3
};
```

::: tip

虽然编译器会忽略多余的空格，但是在编程时应该以统一的风格使用空白字符，以提高代码可读性

:::

可以将多个语句放在一对花括号（`{}`）中，此时这些语句称为 **语句块**。函数体就是一个语句块。语句块也称为 **复合语句**，因此 **复合语句可以看做是一条语句**。在放置语句的任何地方，都可以放置一个包含在花括号中的语句块。因此，语句块也可以放在其他语句块内部，这个概念称为 **嵌套**。事实上，**语句块可以嵌套任意级别**

#### 名字和关键字

在示例代码中包含变量 `answer` 的定义，并使用 `<iostream>` 标准库模块中定义的名字 `cout` 和 `endl`。程序中的许多元素都需要名称，定义名称的准确规则如下

+ 名字可以是包含大小写字母 `A ~ Z` 和 `a ~ z`、数字 `0 ~ 9` 和下划线 `_` 的任意序列
+ 名字必须以字母和下划线开头
+ 名字是区分大小写的

C++ 标准允许名称的任意长度，但有的编译器对此有某种长度限制，这种限制常常比较宽松，并不严格。大多数情况下，不需要使用长度超过 `12 ~ 15` 哥字符的名称

下面是一些有效的 C++ 名称

```cpp
toe_count   shoeSize    Box
doohickey   Doohickey   number1    x1    y2   pValue    out_of_range
```

**大小写字母是由区别的**，所以 `doohickey` 和 `Doohickey` 是不同的名称。编写由两个或多个单词组成的名称时，遵循几个约定

::: tip

+ **小驼峰约定**：把第二个以及之后的各个单词的首字母大写
+ **大驼峰约定**：把第一个以及之后的各个单词的首字母大写
+ **蛇形约定**：把每个单词使用下划线（`_`）分隔

:::

**关键字** 是 C++ 中有特殊含义的保留着，不能把它们用于其他目的。例如，`class`、`int`、`namespace`、`throw` 和 `catch` 都是保留字。此外，避免使用如下名字

+ 连续两个下划线开头的名字。例如，`__add`
+ 以一个下划线后跟一个大写字母开头的名字。例如，`_A`
+ 全局名字空间内所有以下划线开头的名字。例如，`_xxx`

虽然使用上述名字编译器并不会报错。但是，问题在于这些名称可能与编译器生成的名称冲突，或者与标准库实现在内部使用的名称冲突。

::: warning

注意，这些保留名称都具备一个特征：**以下划线开头**。换句话说，在我们的程序中，**应该避免使用以下划线开头的名称**

:::

#### 数据的输入和输出

在 C++ 中，输入和输出是使用 **流** 来执行的。如果要输出消息，可以把消息写入输出流中；如果要输入数据，则从输入流读取。因此，**流是数据源或数据接收器的一种抽象表示**。在程序执行时，每个流都关联着某台设备，关联着数据流就是输入流，关联着数据目的地的流就是输出流

::: tip

对数据流或者数据接收器使用抽象表示的优点在于，无论流代表什么设备，编程都是相同的。例如，从磁盘文件中读取数据的方式与从键盘上读取是完全相同的

在 C++ 中，标准的输出流和输入流分别称为 `cout` 和 `cin`，默认情况下，它们对应计算机的屏幕和键盘

:::

在我们示例程序中的 `main()` 函数中将文本输出到屏幕的语句

```cpp
std::cout << "The answer to life, the universe, and everything is "
          << answer
          << std::endl;
```

名称 `cout` 和 `endl` 在 `<iostream>` 模块中定义。关于 `std::` 前缀稍后介绍。运算符 `<<` 是插入运算符，用于把数据传递到流中。后续我们还会介绍提取运算符 `>>`，它用于从流中读取数据。每个 `<<` 右边的所有内容都会传递到 `cout` 中。把 `endl` 写入 `std::cout`，会在流中写入一个换行符，并刷新输出缓冲区。刷新输出缓冲区可以确保输出立即显示

可以给每行语句添加注释。例如

```cpp
std::cout << "The answer to life, the universe, and everything is "  // This statement
          << answer                                                  // occupies
          << std::endl;                                              // three lines
```

双斜线不必对齐，但是我们通常对齐双斜线，使之看起来更整齐，代码更容易阅读。当然，不应该只是为了写注释而写注释。注释通常应该包含在代码中无法明显看出来的有用信息

#### return 语句

`main()` 函数中的最后一个语句是 `return`。`return` 语句会结束函数，把控制权返回给调用函数的地方。在之前的示例代码中，它会结束函数，把控制权返回给操作系统。`return` 语句可能返回一个值，也可能不返回值。本例的 `return` 语句向操作系统返回 $0$，表示程序正常结束。程序可以返回非 $0$ 值，表示不同的异常结束条件。在 `main()` 函数中的 `return` 语句是可选的，可以忽略它。程序如果执行超过了 `main()` 函数中的最后一条语句，就等价于执行 `return 0`

::: warning
只有在 `main()` 函数中，忽略 `return` 才相当于返回 $0$。对于其他任何返回类型为 `int` 的函数，最好以一个显式的 `return` 语句结束，否则编译器不知道任意函数在默认情况下应该返回哪个值
:::

#### 名字空间

大项目会同时涉及几个程序员，这样可能会导致名称问题。不同的程序员可能给不同的元素使用相同的名称，这可能会带来混乱，使程序出错。标准库定义了许多名称，很难全部记住。如果不小心使用了标准库名称也会出现问题。名字空间就是用于解决这个问题的

**名字空间类似于姓式**，置于该名字空间中声明的所有名字前面。标准库中的名称都在 `std` 名字空间定义，`cout` 和 `endl` 是标准库中的名称，所以其全名 `std::cout` 和 `std::endl`。其中的两个冒号（`::`）称为 **作用域解析运算符**。这里它用于分隔名字空间中的名字（例如 `cout` 和 `endl`）。名字空间的代码如下所示

```cpp
namespace my_space {
    // All names declared in here need to be prefixed
    // with `my_space` when they are referenced from outside.
    // For example, a `min()` function define in here
    // would be referred to outside this namespace as `my_space::min()`
}
```

花括号对中的所有内容都位于 `my_space` 名称空间中。在 [第 11 章 模块和名字空](./011-模块和名字空.md) 中介绍

## 数字系统

数字系统是 [第 2 章 基本数据类型](./002-基本数据类型.md) 的基础。如果你已经了解数字系统，本节可以直接跳过，阅读 [第 2 章 基本数据类型](./002-基本数据类型.md)

数字系统定义了如何用独特的符号来表示一个数字。当我们看到一个符号 $1100$ 时，我应该如何确定这个符号表示的数值是多大呢？如果你肯定的认为 $1100$ 是一个明确的数字，请阅读仔细阅读本小节的内容。之所以如此肯定的认为 $1100$ 是一个明确的数字，是因为我们生活中习惯于使用的是 **十进制数字系统**，因此，你才会任务 $1100 = 1 \times 10^3 + 1 \times 10 ^ 2 + 0 \times 10^1 + 0 \times 10^0$。然而，对于计算机而言，仅仅只是 $1100$ 这样的符号，而没有明确的数字系统的定义时，它是不明确的。因此，计算一串数字符号的值时，应该明确其使用的数字系统。通常，使用 $(数字符号)_{数字系统}$ 的形式表示。例如，$(1100)_{10}$ 明确表示为十进制数字系统。由于生活中最常使用的是十进制系统，因此，通常会省略十进制系统的标识。

在不同的数字系统中，同一个数字有不同的表示。例如，数字 $(2A)_{16}$ 和 $(52)_{8}$ 都是表示同样的数值 $(42)_{10}$，但是它们的表示方式完全不同。正如我们在语言中使用符号来组成词语一样，我们使用数字符号来表示数字。然而，任何语言中的数字字符都是有限的，因此需要重复使用数字字符。数字系统就是定义了这些数字字符表示的值的大小，以及数字字符所在的位置是否参与数值的计算。目前有两种数字系统，分别是 **位置化系统** 和 **非位置化系统**。其中，位置化系统是最常用的数字系统，我们主要介绍的就是它。

在位置化数字系统中，数字字符所占据的位置决定了其表示的值。我们通常使用 $\pm (d_{n-1}d_{n-2}\cdots d_{2}d_{1}d_{0}.d_{-1}\cdots d_{-m})_{b}$ 形式表示一个数，其值等于

$$
\pm (d_{n-1} \times \text{b}^{n-1} + d_{n-2} \times \text{b}^{n-2} + \cdots + d_{2} \times \text{b}^{2} + d_{1} \times \text{b}^{1} +  d_{0} \times \text{b}^{0} + d_{-1} \times \text{b}^{-1} + \cdots + d_{-m} \times \text{b}^{-m})
$$

其中 $d_{i} \in D$, $D$ 是一套数字符号的集合；$b$ 表示基数，它等于数字符号集合 $D$ 中的符号个数。符号 `.` 之前的是该数字的整数部分；符号 `.` 之后的是该数字的小数部分。符号 $\pm$ 表示该数字的正负。下面我们介绍 $4$ 种在计算机中常用的位置化数字系统

### 十进制系统

**十进制(decimal)** 系统是生活中最常用的数字系统，其基数 $b = 10$ 并且我们使用 $D = \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\}$ 共 $10$ 个数字符号来表示数字，在该系统中的符号被称为 **十进制数码**。本小节中，我们使用 $\pm$ 符号表示一个数可正可负，但是请记住计算机并不存储这些符号。我们将在 [信息存储](./001-基本概念.md#信息存储) 中介绍计算机中如何处理正负号

在十进制系统中，数字写为 $\pm (d_{n-1}d_{n-2}\cdots d_{2}d_{1}d_{0}.d_{-1}\cdots d_{-m})_{10}$。但是，对于十进制而言，我们通常会省略圆括号、基数和正号（对于正数）。例如，我们把 $+(552.23)_{10}$ 写成 $552.23$，基数和正号隐含表示

::: tip

约定：**省略了圆括号和基数的数字是十进制数字**

:::

因此，十进制数字 $\pm (d_{n-1}d_{n-2}\cdots d_{2}d_{1}d_{0}.d_{-1}\cdots d_{-m})_{10}$ 的值计算为

$$
N = \pm (d_{n-1} \times \text{10}^{n-1} + d_{n-2} \times \text{10}^{n-2} + \cdots + d_{2} \times \text{10}^{2} + d_{1} \times \text{10}^{1} +  d_{0} \times \text{10}^{0} + d_{-1} \times 10^{-1} + \cdots + d_{-m} \times 10^{-m})
$$

例如，十进制数字 $+(552.23)_{10}$ 的值计算为 

$$
\begin{aligned}
+(552.23)_{10} &= 5 \times 10^2 + 5 \times 10^1 + 2 \times 10^0 + 2 \times 10^{-1} + 3 \times 10^{-2} \\
               &= 500 + 50 + 2 + 0.2 + 0.03 \\
               &= 552.23
\end{aligned}
$$

### 二进制系统

二进制(binary)系统中，基数 $b=2$ 并且使用 $D = \{0, 1\}$ 两个数字符号来表示数字，该系统中的符号被称为 **二进制数码**，也被称为 **位**。计算机中，数据和程序都是以二进制模式(位串或位模式)存储在计算机中。这是因为计算机由电子开关制成，它们仅仅有开和关两种状态。位 $1$ 表示两种状态之一，位 $0$ 表示另一种状态

因此，二进制数字 $\pm (d_{n-1}d_{n-2}\cdots d_{2}d_{1}d_{0}.d_{-1}\cdots d_{-m})_{2}$ 的值计算为

$$
N = \pm (d_{n-1} \times \text{2}^{n-1} + d_{n-2} \times \text{2}^{n-2} + \cdots + d_{2} \times \text{2}^{2} + d_{1} \times \text{2}^{1} +  d_{0} \times \text{2}^{0} + d_{-1} \times 2^{-1} + \cdots + d_{-m} \times 2^{-m})
$$

其中，每个 $d_{i}$ 是 $1$ 个数码，基数 $b = 2$，$n$ 是数码的数量

例如，二进制数 $(101.11)_2$ 的值计算为

$$
\begin{aligned}
(101.11)_2 &= 1 \times 2^2 + 0 \times 2^1 + 1 \times 2^0 + 1 \times 2^{-1} + 1 \times 2^{-2} \\
           &= 4 + 0 + 1 + 0.5 + 0.25\\
           &= 5.75
\end{aligned}
$$

### 十六进制系统

尽管二进制系统用于存储计算机数据，但是它并不便于在计算机外部表示数据，因为与十进制符号相比，**二进制符号过长**。然而，**十进制不能直接显示存储在计算机中的是什么**。正如我们看见的那样，二进制位数和十进制数码之间没有明显的关系，并且相互转换也不方便。

为了克服上述两个问题，发明了十六进制系统和八进制系统。现在，我们首先学习更常用的 **十六进制(hexadecimal)系统**。在十六进制系统中，基数 $b = 16$ 并且使用 $D = \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F\}$ 十六个数字符号来表示数字。注意，符号 $A, B, C, D, E, F$(不区分大小写)分别等于 $10, 11, 12, 13, 14, 15$。十六进制系统中的符号称为**十六进制数码**

十六进制系统通常用于表示整数。因此，十六进制整数表示为 $\pm (d_{n-1}d_{n-2}\cdots d_{2}d_{1}d_{0})_{16}$ 的值计算为

$$
N = \pm (d_{n-1} \times \text{16}^{n-1} + d_{n-2} \times \text{16}^{n-2} + \cdots + d_{2} \times \text{16}^{2} + d_{1} \times \text{16}^{1} +  d_{0} \times \text{16}^{0})
$$

例如，十六进制数 $(2AE)_{16}$ 的值计算为

$$
\begin{aligned}
(2AE)_{16} &= 2 \times 16^{2} + 10 \times 16^{1} + 14 \times 10^{0} \\
           &= 512 + 160 + 14 \\
           &= 686
\end{aligned}
$$

### 八进制系统

**八进制(octal)系统** 中，基数 $b = 8$ 并且使用 $D = \{0, 1,2, 3, 4, 5, 6, 7\}$ 八个数字符号来表示数字。八进制系统中的符号称为**八进制数码**

八进制系统通常用于表示整数。因此，八进制整数表示为 $\pm (d_{n-1}d_{n-2}\cdots d_{2}d_{1}d_{0})_{16}$ 的值计算为

$$
N = \pm (d_{n-1} \times \text{16}^{n-1} + d_{n-2} \times \text{16}^{n-2} + \cdots + d_{2} \times \text{8}^{2} + d_{1} \times \text{8}^{1} +  d_{0} \times \text{8}^{0})
$$

例如，八进制数 $(1256)_{8}$ 的值计算为

$$
\begin{aligned}
(1256)_{8} &= 1 \times 8^{3} + 2 \times 8^{2} + 5 \times 8^{1} + 6 \times 8^{0}\\
           &= 512 + 128 + 40 + 6 \\
           &= 686
\end{aligned}
$$

---

下表总结了上述 $4$ 种位置化数字系统

|数字系统|基数|数码|例子|
|:------|:---|:---|:---|
|十进制|<code>10</code>|<code>0, 1, 2, 3, 4, 5, 6, 7, 8, 9</code>|<code>2345.56</code>|
|二进制|<code>2</code>|<code>0, 1</code>|<code>(1001,11)<sub>2</sub></code>|
|八进制|<code>8</code>|<code>0, 1, 2, 3, 4, 5, 6, 7</code>|<code>(156.23)<sub>8</sub></code>|
|十六进制|<code>16</code>|<code>0, 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F</code>|<code>(A2C.A1)<sub>16</sub></code>|

下表列出了四种位置数字系统中数码的对应关系。数字 $15$ 在十进制和八进制中需要使用 $2$ 个数码表示，在二进制中需要使用 $4$ 个数码表示。

|十进制|二进制|八进制|十六进制| 
|:-----:|:-----:|:-----:|:----:|
|<code>0</code> |<code>0000</code>|<code>0</code> |<code>0</code> |
|<code>1</code> |<code>0001</code>|<code>1</code> |<code>1</code> |
|<code>2</code> |<code>0010</code>|<code>2</code> |<code>2</code> |
|<code>3</code> |<code>0011</code>|<code>3</code> |<code>3</code> |
|<code>4</code> |<code>0100</code>|<code>4</code> |<code>4</code> |
|<code>5</code> |<code>0101</code>|<code>5</code> |<code>5</code> |
|<code>6</code> |<code>0110</code>|<code>6</code> |<code>6</code> |
|<code>7</code> |<code>0111</code>|<code>7</code> |<code>7</code> |
|<code>8</code> |<code>1000</code>|<code>10</code>|<code>8</code> |
|<code>9</code> |<code>1001</code>|<code>11</code>|<code>9</code> |
|<code>10</code>|<code>1010</code>|<code>12</code>|<code>10</code>|
|<code>11</code>|<code>1011</code>|<code>13</code>|<code>11</code>|
|<code>12</code>|<code>1100</code>|<code>14</code>|<code>12</code>|
|<code>13</code>|<code>1101</code>|<code>15</code>|<code>13</code>|
|<code>14</code>|<code>1110</code>|<code>16</code>|<code>14</code>|
|<code>15</code>|<code>1111</code>|<code>17</code>|<code>15</code>|

::: tip

上述表格中，如果省略前导 $0$，我们可以发现一个规律

+ $1$ 个八进制数码需要使用 $3$ 个二进制数码表示
+ $1$ 个十六进制数码需要使用 $4$ 个二进制数码表示

然而，十进制与二进制没有数码上的关系

:::

### 数字系统之间的相互转换

前面我们介绍数字系统时存在这样一个事实：**将每个数位上的数码乘以数位对应的权重，然后再相加得到就是十进制数字系统中的表示**。因此，其他位置数字系统向十进制位置数字系统的转换已经是一个明确的事实

#### 十进制数向其他进制转换

十进制数也能转换到与其等值的其他进制。但是，这需要两个过程，一个用于整数部分，另一个用于小数部分。

十进制数的整数部分转换为其他进制的计算规则为：首先，十进制数的整数部分(称为 **源**)除以目标进制的基数，得到商和余数，其中，余数插入到目标进制的最左边的空闲位；然后，商作为新的源除以目标基数，得到新的商和余数。继续上述过程，直到商为 $0$。下图演示了整个过程

![1765902763898-fff60e3279f634389abf4e3bb24ce1ed.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765902763898-fff60e3279f634389abf4e3bb24ce1ed.png)

我们来看一个示例，将十进制数 $35$ 转换为二进制数

$$
\begin{aligned}
35 \div 2 &= 17 \cdots 1\\
17 \div 2 &= 8 \cdots 1 \\
8 \div 2 &= 4 \cdots 0  \\
4 \div 2 &= 2 \cdots 0  \\
2 \div 2 &= 1 \cdots 0 \\
1 \div 2 &= 0 \cdots 1 
\end{aligned}
$$

最先得到的余数插入目标进制数的最左边；换句话说，将所有的余数倒序排列即可得到目标进制数。因此，十进制数 $35$ 的二进制表示为 $(100011)_{2}$。下图演示了这个示例的转换过程

![1765902924468-821c24b2753978cd1282de90b5c1caa0.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765902924468-821c24b2753978cd1282de90b5c1caa0.png)

::: tip

示例演示了十进制整数数如何转为二进制整数数，对于其他进制也是一样的操作

:::

---

十进制数的小数部分转换为其他进制的计算规则为：首先，十进制数的小数部分(称为 **源**)乘以目标进制的基数，得到乘积，将乘积的整数部分插入到目标进制的最右边的空闲位；然后，新的小数部分作为新的源乘以目标基数，得到乘积。继续上述过程，直到小数部分为 $0$或者达到目标精度。下图演示了整个过程

![1765903014771-2f3a115de508001cedeb097e6314c856.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765903014771-2f3a115de508001cedeb097e6314c856.png)

我们来看一个示例，将十进制数 $0.35$ 转换为二进制数

$$
\begin{aligned}
0.35 \times 2 &= 0.7 \cdots 0\\
0.7 \times 2 &= 1.4 \cdots 1 \\
0.4 \times 2 &= 0.8 \cdots 0 \\
0.8 \times 2 &= 1.6 \cdots 1 \\
0.6 \times 2 &= 1.2 \cdots 1 \\
0.2 \times 2 &= 0.4 \cdots 0 \\ 
0.4 \times 2 &= 0.8 \cdots 0 \\
0.8 \times 2 &= 1.6 \cdots 1 \\
0.6 \times 2 &= 1.2 \cdots 1 \\
0.2 \times 2 &= 0.4 \cdots 0 \\ 
0.4 \times 2 &= 0.8 \cdots 0 \\
....
\end{aligned}
$$

最先得到的整数插入目标进制数的最右边；换句话说，将所有的整数部分顺序排列即可得到目标进制数。因此，十进制数 $0.35$ 的二进制表示为 $(0.010110011001100...)_{2}$。

#### 二进制-八进制-十六进制之间的相互转换(**重要**)

二进制、八进制和十六进制之间的相互转换依赖于之前观察到的规律

+ $1$ 个八进制数码需要使用 $3$ 个二进制数码表示
+ $1$ 个十六进制数码需要使用 $4$ 个二进制数码表示

下图演示了二进制、八进制和十六进制之间的相互转换的过程

![1765902645756-3a365330f97b826f4f47411998dc2e01.png](https://cdn.jsdelivr.net/gh/duyupeng36/images@master/wiki/1765902645756-3a365330f97b826f4f47411998dc2e01.png)

::: tip

下面是关于二进制、八进制和十六进制之间进行转换的示例

+ $(01101)_2 = (15)_{8} = (D)_{16}$
+ $(1011000)_2 = (130)_{8} = (2C)_{16}$
+ $(011110.01)_{2}=(36.2)_{8}=(1E.2)_{16}$

:::
